# 不用加减乘除做加法

## 1、题目

写一个函数，求两个整数之和，要求在函数体内不得使用 `+、-、*、/` 四则运算符号。

示例:

	输入: a = 1, b = 1

	输出: 2
 

提示：

	a, b 均可能是负数或 0

	结果不会溢出 32 位整数
 
## 2、思路

位运算：

	异或^：如果相对应位值相同，则结果为0，否则为1
	位与＆：如果相对应位都是1，则结果为1，否则为0

计算十进制13+9：

	(1)计算不进位的和。十位1不变，个位3加9等于2，结果为12；
	(2)计算进位。十位没进位，个位进位为1，结果为10。

	因此结果13+9=22。

计算二进制1101+1001：

	(1)计算不进位的和。从左到右，第1位为0，第2位为1，第3位为0，第4位为0，结果为0100；
	(2)计算进位。从左到右，第1位进位1，第2、3位没有进位，第4位进位1，结果为1001。不对，进位右边要补0，正确结果是10010。

所以：

	十进制是满10进1
	二进制是满2进1

再从另一角度分析：

	13的二进制是1101，9的二进制是1001

13 | 9 | 不进位和 | 进位
---|:---|:---|:---
1|1|0|1|
1|0|1|0|
0|0|0|0|
1|1|0|1|

	(1)计算不进位的和，相当于对两个数进制异或：1101^1001=0100；
	(2)计算进位，第1位相当于对两个数求与：1101&1001=1001，然后再对其进行左移1位：1001<<1=10010。
	(3)此时还有进位，所以再次重复上述两个步骤，即将进位和的左移与不进位的和相加。

所以：

	计算a+b，等价于(a^b)+((a&b)<<1)。
	由于公式中又出现了+号，因此要再重复上述过程。
	
	结束条件是：没有进位了。

## 3、解法

```java

class Solution {
    public int add(int a, int b) {
        while (b!=0){
            int tmp = a ^ b;  //不进位和
            b = (a & b) << 1;  //进位
            a = tmp;
        }
        return a;
    }
}

```

[分析1](https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/solution/er-jin-zhi-qiu-he-chao-xiang-xi-da-bai-10000yong-h/)

[分析2](https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/solution/mian-shi-ti-65-bu-yong-jia-jian-cheng-chu-zuo-ji-7/)